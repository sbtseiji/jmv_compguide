{"version":3,"sources":["../src/2.1.2.js"],"names":["stringToArray","value","match","module","exports","context","Syntax","RuleError","report","getSource","Str","node","text","strArray","index","length","item","kanjiRegExp","test"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;;AACA;;AACA;;AACA;AACA,SAASA,aAAT,CAAuBC,KAAvB,EAA8B;AAC1B,SAAOA,KAAK,CAACC,KAAN,CAAY,kDAAZ,KAAmE,EAA1E;AACH;;AAEDC,MAAM,CAACC,OAAP,GAAiB,UAAUC,OAAV,EAAmB;AAChC,MAAI;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,SAAV;AAAqBC,IAAAA,MAArB;AAA6BC,IAAAA;AAA7B,MAA2CJ,OAA/C;AACA,SAAO;AACH,KAACC,MAAM,CAACI,GAAR,EAAaC,IAAb,EAAmB;AACf,UAAI,CAAC,iCAAkBA,IAAlB,EAAwBN,OAAxB,CAAL,EAAuC;AACnC;AACH;;AACD,UAAMO,IAAI,GAAGH,SAAS,CAACE,IAAD,CAAtB;AACA,UAAME,QAAQ,GAAGb,aAAa,CAACY,IAAD,CAA9B;;AACA,WAAK,IAAIE,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGD,QAAQ,CAACE,MAArC,EAA6CD,KAAK,EAAlD,EAAsD;AAClD,YAAME,IAAI,GAAGH,QAAQ,CAACC,KAAD,CAArB;;AACA,YAAIG,oBAAYC,IAAZ,CAAiBF,IAAjB,KAA0B,CAAC,6BAAOA,IAAP,CAA/B,EAA6C;AACzCR,UAAAA,MAAM,CACFG,IADE,EAEF,IAAIJ,SAAJ,CAAc,MAAMS,IAAN,GAAa,kBAA3B,EAA+C;AAC3CF,YAAAA;AAD2C,WAA/C,CAFE,CAAN;AAMH;AACJ;AACJ;;AAlBE,GAAP;AAoBH,CAtBD","sourcesContent":["// LICENSE : MIT\n\"use strict\";\n/*\n2.1.2.漢字\n漢字は「全角」で表記します。漢字の使用は、平成 22 年 11 月 30 日内閣告示第 2 号の「常用漢字表」に原則として準じます。\nただし、「常用漢字表」にない漢字であっても実務翻訳で慣用的に用いられる語には漢字を使います。\n */\nimport { isUserWrittenNode } from \"./util/node-util\";\nimport { isJoyo } from \"sorted-joyo-kanji\";\nimport { kanjiRegExp } from \"./util/regexp\";\n// http://qiita.com/YusukeHirao/items/2f0fb8d5bbb981101be0\nfunction stringToArray(value) {\n    return value.match(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[^\\uD800-\\uDFFF]/g) || [];\n}\n\nmodule.exports = function (context) {\n    let { Syntax, RuleError, report, getSource } = context;\n    return {\n        [Syntax.Str](node) {\n            if (!isUserWrittenNode(node, context)) {\n                return;\n            }\n            const text = getSource(node);\n            const strArray = stringToArray(text);\n            for (let index = 0; index < strArray.length; index++) {\n                const item = strArray[index];\n                if (kanjiRegExp.test(item) && !isJoyo(item)) {\n                    report(\n                        node,\n                        new RuleError(\"「\" + item + \"」は「常用漢字表」外の漢字です。\", {\n                            index\n                        })\n                    );\n                }\n            }\n        }\n    };\n};\n"],"file":"2.1.2.js"}